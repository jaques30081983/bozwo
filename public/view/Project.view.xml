<mvc:View
	controllerName="sap.ui.bw.bozwo.controller.Project"
	xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
	xmlns:l="sap.ui.layout"
	xmlns:f="sap.ui.layout.form"
	xmlns:t="sap.ui.table"
	
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	xmlns:dnd="sap.ui.core.dnd"
	xmlns="sap.m">
<Page title="{i18n>homePageTitle}">
	<customHeader>
		<OverflowToolbar>
			<mvc:XMLView viewName="sap.ui.bw.bozwo.view.Menu" />
			
		</OverflowToolbar>
	</customHeader>	
	<content>	
	<l:ResponsiveSplitter defaultPane="default">
		<l:PaneContainer>
			<l:PaneContainer orientation="Vertical">
			<l:layoutData>
				<l:SplitterLayoutData resizable="true" size="25%"/>
			</l:layoutData>
				<l:SplitPane id="default" requiredParentWidth="400">
					<Panel height="100%" >
						<headerToolbar>
							<Toolbar height="3rem">
									<Button icon="sap-icon://nav-back" press="onNavBack" />
									<Title text="{i18n>project}" level="H4" titleStyle="H4"/>
							
								<ToolbarSpacer />
									<Button icon="sap-icon://write-new" press="onNewSubproject" tooltip="{i18n>new}"/>
									<ToggleButton id="deleteButton" icon="sap-icon://delete" press="onDeleteMode"/>
							</Toolbar>
						</headerToolbar>
						<Tree
					    id="projectTree"
					    delete="onPressDelete"
					    mode="SingleSelectMaster"
					    selectionChange="onPressProjectTree"
					    items="{path: 'projectTree>/',
				          events: {
				            change: '.onTreeChange'
				          },
				          sorter: {path : 'id'}
				          }"
				          
				          >
				          
					          <StandardTreeItem 
								highlight="{= ${projectTree>status} === 1 ? 'Warning' : ''}{= ${projectTree>status} === 2 ? 'Success' : ''}{= ${projectTree>status} === 3 ? 'Error' : ''}"
								
								app:id="{projectTree>id}"  
								app:project_id="{projectTree>project_id}"
								 
								
								title="{projectTree>name}" 
								icon="" 
								tooltip="{projectTree>description}">
								 <customData>
								  <core:CustomData key="mydata" value="{=${projectTree>project_id} > 0  ? 'Normal' : 'Bold'}" writeToDom="true" />
								 </customData>
								
								</StandardTreeItem>
							</Tree>
					</Panel>
					

				</l:SplitPane>
				<l:SplitPane id="default1" requiredParentWidth="400">
					
						<IconTabBar class="sapUiResponsiveContentPadding">
							<items>
								<IconTabFilter
									text="{i18n>items}">
									<SearchField
							            width="auto"
							            value="{search>/query}"
							            liveChange=".onLiveChange"
							          />
									<Tree
								    id="inventoryTree"
								   
					    			
								    items="{path: 'inventoryTree>/',
							          events: {
							            change: '.onTreeChange'
							          },
							          sorter: {path : 'name'}
							          }"
							          
							          >

							          	<StandardTreeItem
											app:id="{inventoryTree>id}"  
											app:name="{inventoryTree>name}"
											app:price="{inventoryTree>rental_price}"
											app:category_id="{inventoryTree>category_id}"
											app:depth="{inventoryTree>depth}" 
											app:unit_id="{inventoryTree>unit_id}"
											app:tax_id="{inventoryTree>tax_id}"
											type="Active"
											press="onPressInventoryTree"
											title="{inventoryTree>name}" 
											icon="{inventoryTree>icon}" 
											tooltip="{inventoryTree>description} - {inventoryTree>rental_price}EUR">
											 <customData>
											  <core:CustomData key="mydata" value="{=${inventoryTree>category_id} > 0  ? 'Normal' : 'Bold'}" writeToDom="true" />
											 </customData>
											
										</StandardTreeItem>
							          </Tree>

									
								</IconTabFilter>
								<IconTabFilter
									text="{i18n>employee}">
									<List
									    id="employeeList"
									    delete="onPressDelete"
									    items="{path: 'employeeList>/',
								          sorter: {path : 'name'}
								          }"
								          
								          >
									        <dragDropConfig>
												<dnd:DragDropInfo
												sourceAggregation="items"
												targetAggregation="items"
												dropEffect="Move"
												dragStart="onDragStart"
												dragEnter="onDragEnter"
												dropPosition="On"
												drop="onDrop"
												
												/>
											</dragDropConfig>
								          	<StandardListItem 
												type="Active"
												press="onPressEmployeeList" 
												
												app:id="{employeeList>id}"  
										
												title="{employeeList>name}" 
												icon="{employeeList>icon}" 
												tooltip="{employeeList>description}">
												 <customData>
												  <core:CustomData key="mydata" value="{=${employeeList>employee_id} > 0  ? 'Normal' : 'Bold'}" writeToDom="true" />
												 </customData>
												
											</StandardListItem>
							          </List>
									
								</IconTabFilter>
								<IconTabFilter
									text="{i18n>vehicles}">
								<List
								    id="vehicleList"
								    delete="onPressDelete"
								    items="{path: 'vehicleList>/',
							          sorter: {path : 'name'}
							          }"
							          
							          >
								        <dragDropConfig>
											<dnd:DragDropInfo
											sourceAggregation="items"
											targetAggregation="items"
											dropEffect="Move"
											dragStart="onDragStart"
											dragEnter="onDragEnter"
											dropPosition="On"
											drop="onDrop"
											
											/>
										</dragDropConfig>							          
							          	<StandardListItem 
											type="Active"
											press="onPressVehicleList" 
											
											app:id="{vehicleList>id}"  
																				
											
											title="{vehicleList>name}" 
											icon="{vehicleList>icon}" 
											tooltip="{vehicleList>description}">
											 <customData>
											  <core:CustomData key="mydata" value="{=${vehicleList>vehicle_id} > 0  ? 'Normal' : 'Bold'}" writeToDom="true" />
											 </customData>
											
										</StandardListItem>
							          </List>
							          
								</IconTabFilter>
								<!--
								<IconTabFilter
									text="{i18n>miscellaneous}">
								<List
								    id="miscellaneousList"
								    
								    items="{path: 'miscellaneousList>/',
							          sorter: {path : 'name'}
							          }"
							          
							          >
								        <dragDropConfig>
											<dnd:DragDropInfo
											sourceAggregation="items"
											targetAggregation="items"
											dropEffect="Move"
											dragStart="onDragStart"
											dragEnter="onDragEnter"
											dropPosition="On"
											drop="onDrop"
											
											/>
										</dragDropConfig>							          
							          	<StandardListItem 
											type="Inactive"
											press="onPressvehicleList" 
											
											app:id="{miscellaneousList>id}"  
																				
											
											title="{miscellaneousList>name}" 
											icon="{miscellaneousList>icon}" 
											tooltip="{miscellaneousList>description}">
											 <customData>
											  <core:CustomData key="mydata" value="{=${miscellaneousList>miscellaneous_id} > 0  ? 'Normal' : 'Bold'}" writeToDom="true" />
											 </customData>
											
										</StandardListItem>
							          </List>
								</IconTabFilter>
								-->
							</items>
						</IconTabBar>
						
					
					


				</l:SplitPane>
			
			</l:PaneContainer>
			
			
		<!--	<l:PaneContainer orientation="Vertical"> -->
			
			
			
		<l:SplitPane requiredParentWidth="800">			
				
		<NavContainer id="projectNavCon">		

			<Page id="projectPage"  showHeader="true">
			<customHeader>
				<Toolbar id="TB1">
					<Title text="{project>/number} {project>/name}" level="H4" titleStyle="H4"/>
					<ToolbarSpacer />
					<Button icon="sap-icon://save" press="onSaveProject"/>
					<Button icon="sap-icon://duplicate" press="onDuplicateProject" tooltip="{i18n>duplicate}"/>
					
					
				</Toolbar>
			</customHeader>
			<content>	
				<IconTabBar class="sapUiResponsiveContentPadding">
					<items>
					<!-- 
					<IconTabFilter
							text="{i18n>overview}">
								
							<f:SimpleForm
							editable="true"
							layout="ResponsiveGridLayout"
							 >
							 <f:content>
								<Toolbar>
								<Title text="{i18n>overview}" level="H5" titleStyle="H5"/>
								<ToolbarSpacer />
								<Button icon="sap-icon://date-time"/>
								</Toolbar>

															
								<GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" header="{i18n>total}" subheader="Budget Netto" press="press">
									<TileContent unit="Unit" footer="Footer Text">
										<NumericContent value="{project>/total}" icon="sap-icon://line-charts" />
									</TileContent>
								</GenericTile>
								
								<GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" header="{i18n>items}" subheader="open positions" press="press">
									<TileContent unit="Unit" footer="you have to act">
										<NumericContent value="12/1" icon="sap-icon://line-charts" />
									</TileContent>
								</GenericTile>
								<GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" header="{i18n>employee}" subheader="open positions" press="press">
									<TileContent unit="Unit" footer="you have to act">
										<NumericContent value="12/1" icon="sap-icon://line-charts" />
									</TileContent>
								</GenericTile>
								<GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" header="{i18n>transport}" subheader="open positions" press="press">
									<TileContent unit="Unit" footer="you have to act">
										<NumericContent value="12/1" icon="sap-icon://line-charts" />
									</TileContent>
								</GenericTile>
								
							
								</f:content>
							</f:SimpleForm>	
						</IconTabFilter>
						-->
					
						<IconTabFilter
							text="{i18n>mainData}">
									
								
							<f:SimpleForm
							editable="true"
							layout="ResponsiveGridLayout"
							 >
							<f:content>
								<Toolbar>
									<Title text="{i18n>mainData}" level="H5" titleStyle="H5"/>
									<ToolbarSpacer />
									<Button icon="sap-icon://form"/>
								</Toolbar>
		
									<Label text="{i18n>projectName}" />
									<Input value="{project>/name}" />
									
									<Label text="{i18n>description}" />
									<Input value="{project>/description}" />	
									
									<Label text="{i18n>location}" />
									<Input value="{project>/location}"></Input>				
									

									
									
									<Label text="{i18n>manager}" />
									<Select width="100%" items="{people>/}"  forceSelection="false"	selectedKey="{=${project>/manager_person_id} === 0 ? ${user>/people_id} : ${project>/manager_person_id}}">
										<core:Item key="{people>id}" text="{people>first_name} {people>last_name}" />
									</Select>
									<Label text="{i18n>status}" />
									<Select width="100%" items="{statuses>/}"  forceSelection="false"	selectedKey="{project>/status}">
										<core:Item key="{statuses>id}" text="{statuses>name}" />
									</Select>	
									
								<Toolbar>
									<Title text="{i18n>scheduleInformation}" level="H5" titleStyle="H5"/>
									<ToolbarSpacer />
									
									<Button icon="sap-icon://date-time"/>
								</Toolbar>
									<Label text="{i18n>start}" />
									<DateTimePicker 
									
										valueFormat="yyyy-MM-dd HH:mm:ss"
										displayFormat="yyyy-MM-dd HH:mm:ss"
										value="{project>/start_date_time}"
										change="onChangeDate"
										app:modelName="project"/>	
								
									<Label text="{i18n>end}" />
									<DateTimePicker 
										valueFormat="yyyy-MM-dd HH:mm:ss"
										displayFormat="yyyy-MM-dd HH:mm:ss"
										value="{project>/end_date_time}"
										change="onChangeDate"
										app:modelName="project"/>	
									
									<Label text="{i18n>days}"/>
							
									<StepInput
										value="{project>/days}"
										min="1"
										step="1"
										enabled="true"
										editable="true"										
										change="onChangeDays"
										app:modelName="project"/>
									

									
									<Label text="{i18n>daysUsed}" />
										
									
									<StepInput
										value="{project>/days_used}"
										min="0"
										step="1"
										enabled="true"
										editable="true"										
										change="onChangeDaysUsed"
										app:modelName="project"/>
										
									<Label text="{i18n>daysOff}" />
										
									
									<StepInput
										value="{project>/days_off}"
										min="0"
										step="1"
										enabled="true"
										editable="true"										
										change="onChangeDaysOff"
										app:modelName="project"/>
									
									<Label text="{i18n>factor}" />
										
									
									<StepInput
										value="{project>/factor}"
										displayValuePrecision = "1"
										min="0"
										step="0.1"
										enabled="true"
										editable="true"										
										change="onChangeFactor"
										app:modelName="project"/>
									
									
									
								
									
									<Label text="{i18n>availableLater}" />
									<CheckBox selected="{path: 'project>/available_later', type: 'sap.ui.model.type.Boolean'}"/>	
								
									
									<Label text="{i18n>checkOut}" />
									<CheckBox selected="{path: 'project>/check_out', type: 'sap.ui.model.type.Boolean'}"/>	
								
									<Label text="{i18n>checkIn}" />
									<CheckBox selected="{path: 'project>/check_in', type: 'sap.ui.model.type.Boolean'}"/>		
									
									
								<Toolbar>
								<Title text="{i18n>service}" level="H5" titleStyle="H5"/>
								<ToolbarSpacer />
								<Button icon="sap-icon://factory"/>
								</Toolbar>
									<Label text="{i18n>type}" />
									<Select width="100%" items="{types>/}"  forceSelection="false"	selectedKey="{project>/type}">
										<core:Item key="{types>id}" text="{types>name}" />
									</Select>	
									
								<Toolbar>
									<Title text="{i18n>customer}" level="H5" titleStyle="H5"/>
									<ToolbarSpacer />
									<Button icon="sap-icon://customer"/>
								</Toolbar>
								
									<Label text="{i18n>customer}" />

									
									<Button
									text="{customer>/customer_name}"
									press="handleSelectMasterdataDialogPress" />
									
									<Label text="{i18n>person}" />
									<Select width="100%" items="{customer_people>/}"  forceSelection="false"	selectedKey="{project>/customer_person_id}">
										<core:Item key="{customer_people>id}" text="{customer_people>first_name} {customer_people>last_name}" />
									</Select>
									<Label text="{i18n>paymentMethod}" />
									<Select width="100%" items="{paymentMethods>/}"  forceSelection="false"	selectedKey="{project>/payment_method_id}">
										<core:Item key="{paymentMethods>id}" text="{paymentMethods>name}" />
									</Select>
									<Label text="{i18n>paymentTerm}" />
									<Select width="100%" items="{paymentTerms>/}"  forceSelection="false"	selectedKey="{project>/payment_term_id}">
										<core:Item key="{paymentTerms>id}" text="{paymentTerms>name}" />
									</Select>
								<Toolbar>		
								<Title text="{i18n>details}" level="H5" titleStyle="H5"/>
								<ToolbarSpacer />
								<Button icon="sap-icon://hint"/>
								</Toolbar>
									<Label text="{i18n>total}" />
									<Input value="{project>/total}" />
									
									<Label text="{i18n>discount}" />
									<Select width="100%" items="{discounts>/}"  forceSelection="false"	selectedKey="{project>/discount_id}">
										<core:Item key="{discounts>id}" text="{discounts>name}" />
									</Select>
									<Label text="" />
									<Input value="{project>/discount}" />

									
									<Label text="{i18n>invoiced}" />
									<CheckBox selected="{path: 'project>/invoiced', type: 'sap.ui.model.type.Boolean'}"/>	
								
									<Label text="{i18n>noInvoice}" />
									<CheckBox selected="{path: 'project>/no_invoice', type: 'sap.ui.model.type.Boolean'}"/>	
									
								<Toolbar>
								<Title text="{i18n>planer}" level="H5" titleStyle="H5"/>
								<ToolbarSpacer />
								<Button icon="sap-icon://appointment"/>
								</Toolbar>	
									<Label text="{i18n>reminders}"/>
									<TimePicker
										value="{project>/reminder_time}"
										valueFormat="HH:mm"
										displayFormat="HH:mm"
										/>
									<Label text="{i18n>attendees}"/>
									<MultiComboBox
										id="projectAddMultiComboBox"
										selectionChange="handleSelectionChange"
										selectionFinish="handleSelectionFinish"
										
										items="{path: 'people>/',
										sorter: {path : 'first_name'}
										}">
										<core:Item key="{people>id}" app:email="{people>email}" text="{people>first_name} {people>last_name}"/>
									</MultiComboBox>
							</f:content>
							</f:SimpleForm>	
						</IconTabFilter>
						
						<IconTabFilter
							text="{i18n>resources}">
							<f:SimpleForm 
								editable="true"
								layout="ResponsiveGridLayout"
								 >
								<f:content>
									<t:TreeTable
										id="projectResourceTreeTable"
										rows="{path:'projectResource>/', sorter: {path : 'pos', comparator : '.alphanumericSorter'}}"
										visibleRowCountMode="Interactive"
										selectionMode="None"
										enableSelectAll="false"
										rowActionCount="1"
										ariaLabelledBy="title">
	
									<t:dragDropConfig>
										<dnd:DragDropInfo
												sourceAggregation="rows"
												targetAggregation="rows"
												dragStart="onDragStart"
												drop="onDrop"/>
									</t:dragDropConfig>
			
									<t:columns>
									<t:Column width="7rem">
										<Label text="Position"/>
										<t:template>
											<Text text="{projectResource>pos}" wrapping="false"/>
										</t:template>
									</t:Column>
									<t:Column width="13rem">
										<Label text="Name"/>
										<t:template>
											<Input value="{projectResource>name}"/>
										</t:template>
									</t:Column>
									<t:Column width="6rem">
										<Label text="Price"/>
										<t:template>
										
											<Input value="{projectResource>price}" visible="{= ${projectResource>type} === 0 ? false : true}"/>
										
										</t:template>
									</t:Column>
									<t:Column width="5rem">
										<Label text="Quantity"/>
										<t:template>
											<Input value="{projectResource>quantity}" visible="{= ${projectResource>type} === 0 ? false : true}"/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="6rem">
										<Label text="Unit"/>
										<t:template>
											<Select width="100%" items="{path:'units>/', templateShareable: true}"  forceSelection="false"	selectedKey="{projectResource>unit_id}" visible="{= ${projectResource>type} === 0 ? false : true}">
												<core:Item key="{units>id}" text="{units>short_name}" />
											</Select>	
											
										</t:template>
										 
									</t:Column>
									<t:Column width="13rem">
										<Label text="Start"/>
										<t:template>
											<DateTimePicker
												placeholder="Enter Date ..."
												value="{projectResource>start_date_time}" 
												valueFormat="yyyy-MM-dd HH:mm:ss"
												displayFormat="yyyy-MM-dd HH:mm:ss"
												/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="13rem">
										<Label text="End"/>
										<t:template>
											<DateTimePicker
												placeholder="Enter Date ..."
												value="{projectResource>end_date_time}"
												valueFormat="yyyy-MM-dd HH:mm:ss"
												displayFormat="yyyy-MM-dd HH:mm:ss"
												/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="4rem">
										<Label text="Days"/>
										<t:template>
											<Input value="{projectResource>days}" />
											
										</t:template>
										 
									</t:Column>
									<t:Column width="4rem">
										<Label text="Day-Off"/>
										<t:template>
											<Input value="{projectResource>days_off}" />
											
										</t:template>
										 
									</t:Column>
									<t:Column width="4rem">
										<Label text="factor"/>
										<t:template>
											<Input value="{projectResource>factor}" />
											
										</t:template>
										 
									</t:Column>
									
									<t:Column width="6rem">
										<Label text="Discount"/>
										<t:template>
										
											<Input value="{projectResource>discount}" />
										
										</t:template>
									</t:Column>
									<t:Column width="12rem">
										<Label text="Tax"/>
										<t:template>
											<Select change="onChangeItemTax" width="100%" items="{path:'taxes>/', templateShareable: true}"  forceSelection="false"	selectedKey="{projectResource>tax_id}" >
												<core:Item key="{taxes>id}" text="{taxes>name}" />
											</Select>	
											
										</t:template>
										 
									</t:Column>
									<t:Column>
										<Label text="SubTotal"/>
										<t:template>
										
											<Text text="{= ${projectResource>quantity} * ${projectResource>price}}" wrapping="false"/>
										
										</t:template>
									</t:Column>
								</t:columns>
								
									<t:rowActionTemplate>
								        <t:RowAction>
								            
										<t:RowActionItem type="Delete" press="onProjectResourcesDeletePress"></t:RowActionItem>
									    
									</t:RowAction>
									
								     </t:rowActionTemplate>
								
								<t:footer><Label text="Total" /></t:footer>
							</t:TreeTable>

								
							</f:content>
							</f:SimpleForm>
							</IconTabFilter>
						
						<IconTabFilter
							text="{i18n>disposition}">
								
							<f:SimpleForm
							editable="true"
							layout="ResponsiveGridLayout"
							 >
							 <f:content>							
								<Toolbar>
								<Title text="{i18n>employees}" level="H5" titleStyle="H5"/>
								<ToolbarSpacer />
								<Button icon="sap-icon://employee"/>
								</Toolbar>

								<t:TreeTable
										id="projectDispositionTreeTable"
										rows="{path:'projectResourceDisposition>/', sorter: {path : 'pos', comparator : '.alphanumericSorter'}}"
										visibleRowCountMode="Interactive"
										selectionMode="None"
										enableSelectAll="false"
										rowActionCount="1"
										ariaLabelledBy="title">
	
									<t:dragDropConfig>
										<dnd:DragDropInfo
												sourceAggregation="rows"
												targetAggregation="rows"
												dragStart="onDragStart"
												drop="onDrop"/>
									</t:dragDropConfig>
			
									<t:columns>
									<t:Column width="7rem">
										<Label text="Position"/>
										<t:template>
											<Text text="{projectResourceDisposition>pos}" wrapping="false"/>
										</t:template>
									</t:Column>
									<t:Column width="7rem">
										<Label text="Name"/>
										<t:template>
											<Label text="{projectResourceDisposition>name}"/>
										</t:template>
									</t:Column>
									
									<t:Column width="5rem">
										<Label text="Quantity"/>
										<t:template>
											<Label text="{projectResourceDisposition>quantity} / 0" visible="{= ${projectResource>type} === 0 ? false : true}"/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="10rem">
										<Label text="Employee"/>
										<t:template>
											<Select
												visible="{= ${projectResourceDisposition>type} === 0 ? false : true}"
												forceSelection="false"
												selectedKey="{projectResourceDisposition>person_id}"
												items="{path: 'people>/', templateShareable: false,
												sorter: {path : 'first_name'}
												}">
												<core:Item key="{people>id}" app:email="{people>email}" text="{people>first_name} {people>last_name}"/>
											</Select>
											
										</t:template>
									</t:Column>

									<t:Column width="9rem">
										<Label text="Status"/>
										<t:template>
										<Select width="100%" items="{path:'resourceStatuses>/', templateShareable: false}"  
											forceSelection="false"	
											selectedKey="{projectResourceDisposition>status}"
											visible="{= ${projectResourceDisposition>type} === 0 ? false : true}">
											<core:Item key="{resourceStatuses>id}" text="{resourceStatuses>name}" />
										</Select>	
										
										</t:template>
									</t:Column>
									<t:Column width="13rem">
										<Label text="Start"/>
										<t:template>
											<DateTimePicker
												placeholder="Enter Date ..."
												value="{projectResourceDisposition>start_date_time}" 
												valueFormat="yyyy-MM-dd HH:mm:ss"
												displayFormat="yyyy-MM-dd HH:mm:ss"
												/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="13rem">
										<Label text="End"/>
										<t:template>
											<DateTimePicker
												placeholder="Enter Date ..."
												value="{projectResourceDisposition>end_date_time}"
												valueFormat="yyyy-MM-dd HH:mm:ss"
												displayFormat="yyyy-MM-dd HH:mm:ss"
												/>
											
										</t:template>
										 
									</t:Column>

									<t:Column width="6rem">
										<Label text="Budget"/>
										<t:template>
										
											<Input value="{projectResourceDisposition>price}" visible="{= ${projectResource>type} === 0 ? false : true}"/>
										
										</t:template>
									</t:Column>
									<t:Column width="5rem">
										<Label text="Costs"/>
										<t:template>
											<Input value="{projectResourceDisposition>price}" visible="{= ${projectResource>type} === 0 ? false : true}"/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="5rem">
										<Label text="Difference"/>
										<t:template>
											<Input value="{projectResourceDisposition>price}" visible="{= ${projectResource>type} === 0 ? false : true}"/>
											
										</t:template>
										 
									</t:Column>

								</t:columns>
								
									<t:rowActionTemplate>
								        <t:RowAction>
								            
										<t:RowActionItem type="Delete" press="onProjectResourcesDispositionDeletePress"></t:RowActionItem>
									    
									</t:RowAction>
									
								     </t:rowActionTemplate>
								
								<t:footer><Label text="Total" /></t:footer>
							</t:TreeTable>

							<Toolbar>
								<Title text="{i18n>vehicles}" level="H5" titleStyle="H5"/>
								<ToolbarSpacer />
								<Button icon="sap-icon://shipping-status"/>
							</Toolbar>

								<t:TreeTable
										id="projectDispositionVehicleTreeTable"
										rows="{path:'projectResource>/', sorter: {path : 'pos', comparator : '.alphanumericSorter'}}"
										visibleRowCountMode="Interactive"
										selectionMode="None"
										enableSelectAll="false"
										rowActionCount="1"
										ariaLabelledBy="title">
	
									<t:dragDropConfig>
										<dnd:DragDropInfo
												sourceAggregation="rows"
												targetAggregation="rows"
												dragStart="onDragStart"
												drop="onDrop"/>
									</t:dragDropConfig>
			
									<t:columns>
									<t:Column width="7rem">
										<Label text="Position"/>
										<t:template>
											<Text text="{projectResource>pos}" wrapping="false"/>
										</t:template>
									</t:Column>
									<t:Column width="7rem">
										<Label text="Name"/>
										<t:template>
											<Label text="{projectResource>name}"/>
										</t:template>
									</t:Column>

									<t:Column width="5rem">
										<Label text="Quantity"/>
										<t:template>
											<Label text="{projectResource>quantity} / 0" visible="{= ${projectResource>type} === 0 ? false : true}"/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="10rem">
										<Label text="Vehicle"/>
										<t:template>
											<Select
												visible="{= ${projectResource>type} === 0 ? false : true}"
												forceSelection="false"
												items="{path: 'vehicle>/', templateShareable: false,
												sorter: {path : 'numberplate'}
												}">
												<core:Item key="{vehicle>id}" text="{vehicle>name} {vehicle>numberplate} {vehicle>manufacturer} {vehicle>model}"/>
											</Select>
											
										</t:template>
									</t:Column>

									<t:Column width="9rem">
										<Label text="Status"/>
										<t:template>
										
											<Select width="100%" items="{path:'resourceStatuses>/', templateShareable: false}"  
											forceSelection="false"	
											selectedKey="{project>/status}"
											visible="{= ${projectResource>type} === 0 ? false : true}">
											<core:Item key="{resourceStatuses>id}" text="{resourceStatuses>name}" />
											</Select>
										</t:template>
									</t:Column>
								</t:columns>
									<t:Column width="13rem">
										<Label text="Start"/>
										<t:template>
											<DateTimePicker
												placeholder="Enter Date ..."
												value="{projectResource>start_date_time}" 
												valueFormat="yyyy-MM-dd HH:mm:ss"
												displayFormat="yyyy-MM-dd HH:mm:ss"
												/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="13rem">
										<Label text="End"/>
										<t:template>
											<DateTimePicker
												placeholder="Enter Date ..."
												value="{projectResource>end_date_time}"
												valueFormat="yyyy-MM-dd HH:mm:ss"
												displayFormat="yyyy-MM-dd HH:mm:ss"
												/>
											
										</t:template>
										 
									</t:Column>

																		<t:Column width="6rem">
										<Label text="Budget"/>
										<t:template>
										
											<Input value="{projectResource>price}" visible="{= ${projectResource>type} === 0 ? false : true}"/>
										
										</t:template>
									</t:Column>
									<t:Column width="5rem">
										<Label text="Costs"/>
										<t:template>
											<Input value="{projectResource>price}" visible="{= ${projectResource>type} === 0 ? false : true}"/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="5rem">
										<Label text="Difference"/>
										<t:template>
											<Input value="{projectResource>price}" visible="{= ${projectResource>type} === 0 ? false : true}"/>
											
										</t:template>
										 
									</t:Column>

									<t:rowActionTemplate>
								        <t:RowAction>
								            
										<t:RowActionItem type="Delete" press="onProjectResourcesDeletePress"></t:RowActionItem>
									    
									</t:RowAction>
									
								     </t:rowActionTemplate>
								
								<t:footer><Label text="Total" /></t:footer>
							</t:TreeTable>
							
								</f:content>
							</f:SimpleForm>	
						</IconTabFilter>

						<IconTabFilter
							text="{i18n>tasks}">
								
							<f:SimpleForm 
							editable="true"
							layout="ResponsiveGridLayout"
							 >
							<f:content>
								<Toolbar>
									<Title text="{i18n>tasks}" level="H5" titleStyle="H5"/>
									<ToolbarSpacer />
									<Button icon="sap-icon://task"/>
								</Toolbar>
								
								
		
							</f:content>
						</f:SimpleForm>
						</IconTabFilter>
						
						<IconTabFilter
							text="{i18n>appointments}">
								
							<f:SimpleForm 
							editable="true"
							layout="ResponsiveGridLayout"
							 >
							<f:content>
								<Toolbar>
									<Title text="{i18n>appointments}" level="H5" titleStyle="H5"/>
									<ToolbarSpacer />
									<Button icon="sap-icon://appointment"/>
								</Toolbar>
								
		
							</f:content>
						</f:SimpleForm>
						</IconTabFilter>
						
						<IconTabFilter
							text="{i18n>documents}">
								
							<f:SimpleForm
							editable="true"
							layout="ResponsiveGridLayout"
							 >
							<f:content>
								<OverflowToolbar>
									<Title text="{i18n>documents}" level="H5" titleStyle="H5"/>
									<Select id="projectSelectedDocument"  items="{documents>/}"  forceSelection="false">
										<core:Item key="{documents>model}" text="{documents>name}" />
									</Select>
									<CheckBox text="{i18n>preview}" selected="{path: 'documents>/preview', type: 'sap.ui.model.type.Boolean'}"/>	
								
									<Button icon="sap-icon://create" text="{i18n>create}" press="onCreateProjectDocument"/>
									<Button icon="sap-icon://refresh" text="{i18n>overwrite}" press="onOverwriteProjectDocument"/>
									
						
									<ToolbarSpacer />
									<Button icon="sap-icon://email" press="onProjectEmailDocument" tooltip="{i18n>sendByEmail}"/>
									<Button icon="sap-icon://fax-machine" press="onProjectFaxDocument" tooltip="{i18n>sendByFax}"/>
									<Button icon="sap-icon://letter" press="onProjectLetterDocument" tooltip="{i18n>sendByLetter}"/>
									
								</OverflowToolbar>
		
						
								<List
									id="projectDocumentsList"
									mode="SingleSelectLeft"
									width="auto"
									items="{path: 'project_documents>/',sorter: {path : 'created_at', descending:true}}"

									>
									<StandardListItem
										app:documentModel="{project_documents>model}"
										app:documentId="{project_documents>id}"
										app:documentNumber="{project_documents>number}"
										
										title="{project_documents>number} {project_documents>id}"
										description="{project_documents>created_at}" 
										
										type="DetailAndActive"
										press="onViewDocument"
										detailPress="onEditDocument"
										

										/>
										
									
								</List>
							</f:content>
							</f:SimpleForm>	
						</IconTabFilter>
						
						<IconTabFilter
							text="{i18n>history}">
								
							<f:SimpleForm 
							editable="true"
							layout="ResponsiveGridLayout"
							 >
							<f:content>
								<Toolbar>
									<Title text="{i18n>history}" level="H5" titleStyle="H5"/>
									<ToolbarSpacer />
									<Button icon="sap-icon://history"/>
								</Toolbar>
								
		
							</f:content>
						</f:SimpleForm>
						</IconTabFilter>
						
					</items>
					</IconTabBar>
					
				</content>
			</Page>
			
			<Page id="subprojectPage">
					
				<customHeader>
					<Toolbar id="TB2">
						<Title text="{subproject>/number} {subproject>/name}" level="H4" titleStyle="H4"/>
						<ToolbarSpacer />
						<Button icon="sap-icon://save" press="onSaveSubproject"/>
						<Button icon="sap-icon://duplicate" press="onDuplicateSubproject" tooltip="{i18n>duplicate}"/>
						
						
					</Toolbar>
				</customHeader>
				<content>
				
				<IconTabBar class="sapUiResponsiveContentPadding" id="subprojectIconTabBar">
					<items>
						<IconTabFilter
							text="{i18n>mainData}">
							<f:SimpleForm 
								editable="true"
								layout="ResponsiveGridLayout"
								 >
								<f:content>
								<Toolbar>
									<Title text="{i18n>mainData}" level="H5" titleStyle="H5"/>
									<ToolbarSpacer />
									<Button icon="sap-icon://factory"/>
								</Toolbar>
									<Label text="{i18n>subprojectName}" />
									<Input value="{subproject>/name}" />
									
									<Label text="{i18n>description}" />
									<Input value="{subproject>/description}" />
									<Label text="{i18n>status}" />
									<Select width="100%" items="{statuses>/}"  forceSelection="false"	selectedKey="{subproject>/status}">
										<core:Item key="{statuses>id}" text="{statuses>name}" />
									</Select>	
								
								<Toolbar>		
								<Title text="{i18n>details}" level="H5" titleStyle="H5"/>
								<ToolbarSpacer />
								<Button icon="sap-icon://hint"/>
								</Toolbar>
									<Label text="{i18n>total}" />
									<Input value="{subproject>/total}" />
									
									<Label text="{i18n>discount}" />
									<Select width="100%" items="{discounts>/}"  forceSelection="false"	selectedKey="{subproject>/discount_id}">
										<core:Item key="{discounts>id}" text="{discounts>name}" />
									</Select>
									<Label text="" />
									<Input value="{subproject>/discount}" />

									
									<Label text="{i18n>invoiced}" />
									<CheckBox selected="{path: 'subproject>/invoiced', type: 'sap.ui.model.type.Boolean'}"/>	
								
									<Label text="{i18n>noInvoice}" />
									<CheckBox selected="{path: 'subproject>/no_invoice', type: 'sap.ui.model.type.Boolean'}"/>	
								
								<Toolbar>
									<Title text="{i18n>scheduleInformation}" level="H5" titleStyle="H5"/>
									<ToolbarSpacer />
									
									<Button icon="sap-icon://date-time"/>
								</Toolbar>
									<Label text="{i18n>start}" />
									<DateTimePicker 
									valueFormat="yyyy-MM-dd HH:mm:ss"
										displayFormat="yyyy-MM-dd HH:mm:ss" 
									value="{subproject>/start_date_time}"
									change="onChangeDate"
									app:modelName="subproject"/>	
								
									<Label text="{i18n>end}" />
									<DateTimePicker 
									valueFormat="yyyy-MM-dd HH:mm:ss"
										displayFormat="yyyy-MM-dd HH:mm:ss" 
									value="{subproject>/end_date_time}"
									change="onChangeDate"
									app:modelName="subproject"/>	
									
									<Label text="{i18n>days}"/>
							
									<StepInput
										value="{subproject>/days}"
										min="1"
										step="1"
										enabled="true"
										editable="true"										
										change="onChangeDays"
										app:modelName="subproject"/>
										
									
									<Label text="{i18n>daysUsed}" />
										
									
									<StepInput
										value="{subproject>/days_used}"
										min="0"
										step="1"
										enabled="true"
										editable="true"										
										change="onChangeDaysUsed"
										app:modelName="subproject"/>
									
									<Label text="{i18n>daysOff}" />
									
									<StepInput
										value="{subproject>/days_off}"
										min="0"
										step="1"
										enabled="true"
										editable="true"										
										change="onChangeDaysOff"
										app:modelName="subproject"/>
									
									<Label text="{i18n>factor}" />
									
									<StepInput
										value="{subproject>/factor}"
										displayValuePrecision = "1"
										min="0"
										step="0.1"
										enabled="true"
										editable="true"										
										change="onChangeFactor"
										app:modelName="subproject"/>
									
									
									
								
									
									<Label text="{i18n>availableLater}" />
									<CheckBox selected="{path: 'subproject>/available_later', type: 'sap.ui.model.type.Boolean'}"/>	
								
									
									<Label text="{i18n>checkOut}" />
									<CheckBox selected="{path: 'subproject>/check_out', type: 'sap.ui.model.type.Boolean'}"/>	
								
									<Label text="{i18n>checkIn}" />
									<CheckBox selected="{path: 'subproject>/check_in', type: 'sap.ui.model.type.Boolean'}"/>	
									
									
								<Toolbar>
								<Title text="{i18n>service}" level="H5" titleStyle="H5"/>
								<ToolbarSpacer />
								<Button icon="sap-icon://factory"/>
								</Toolbar>
									<Label text="{i18n>type}" />
									<Select width="100%" items="{types>/}"  forceSelection="false"	selectedKey="{subproject>/type}">
										<core:Item key="{types>id}" text="{types>name}" />
									</Select>	
										
									
	
								
								<Toolbar>
									<Title text="{i18n>shippingAddresses}" level="H5" titleStyle="H5"/>
									<ToolbarSpacer />
									<Button icon="sap-icon://delete" press="onDeleteShippingAddresses"/>
									<Button icon="sap-icon://shipping-status" press="onAddShippingAddress"/>
								</Toolbar>
								<Label text="" />
								<List
									id="ShippingAddressesList"
									mode="SingleSelectLeft"
									delete="onDeleteShippingAddress"
									width="auto"
									items="{masterdata_shipping_addresses>/}"
									includeItemInSelection="true"
									selectionChange="onSelectionChangeShippingAddress"
									>
									<StandardListItem
										title="{masterdata_shipping_addresses>name}"
										description="{masterdata_shipping_addresses>street} {masterdata_shipping_addresses>number}, 
										{masterdata_shipping_addresses>zip} {masterdata_shipping_addresses>city}, 
										
										
										{parts : [ 'masterdata_shipping_addresses>country_id', 'countries>/' ], formatter: '.formatter.getNameById'}
										
										
										" 
										selected="{=${masterdata_shipping_addresses>default} === 1 ? true : false}"
										type="Detail" 
										detailPress="onShippingAddressPress"
										
										app:masterdataShippingAddressId="{masterdata_shipping_addresses>id}"
										/>
										
									
								</List>
								<Label text="{i18n>notes}" />
									<Input value="{subproject>/shipping_address_note}" />
								</f:content>
								</f:SimpleForm>
								</IconTabFilter>
								

								

							
						<IconTabFilter
						text="{i18n>items}" id="SubprojectItemsIconTabFilter">
						<f:SimpleForm 
							editable="true"
							layout="ResponsiveGridLayout"
							 >
							<f:content>
								<t:TreeTable
									id="itemsTreeTable"
									rows="{path:'subprojectMaterial>/', sorter: {path : 'pos', comparator : '.notationSorter'}}"
							          
							        rowActionCount="1" 
									visibleRowCountMode="Interactive"
									selectionMode="None"
									enableSelectAll="false"
									
									ariaLabelledBy="title">

								<t:dragDropConfig>
									<dnd:DragDropInfo
											sourceAggregation="rows"
											targetAggregation="rows"
											dropPosition="Between"
											dragStart="onDragStartSubprojectMaterial"
											dragEnter="onDragEnterSubprojectMaterial"
											drop="onDropSubprojectMaterial"/>
								</t:dragDropConfig>

								<t:columns>
									<t:Column width="7rem">
										<Label text="Position"/>
										<t:template>
											<Text text="{subprojectMaterial>pos}" wrapping="false"/>
										</t:template>
									</t:Column>
									<t:Column width="13rem">
										<Label text="Name"/>
										<t:template>
											<Input value="{subprojectMaterial>name}"/>
										</t:template>
									</t:Column>
									<t:Column width="6rem">
										<Label text="Price"/>
										<t:template>
										
											<Input value="{subprojectMaterial>price}" visible="{= ${subprojectMaterial>type} === 0 ? false : true}"/>
										
										</t:template>
									</t:Column>
									<t:Column width="5rem">
										<Label text="Quantity"/>
										<t:template>
											<Input value="{subprojectMaterial>quantity}" visible="{= ${subprojectMaterial>type} === 0 ? false : true}"/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="6rem">
										<Label text="Unit"/>
										<t:template>
											<Select width="100%" items="{path:'units>/', templateShareable: true}"  forceSelection="false"	selectedKey="{subprojectMaterial>unit_id}" visible="{= ${subprojectMaterial>type} === 0 ? false : true}">
												<core:Item key="{units>id}" text="{units>short_name}" />
											</Select>	
											
										</t:template>
										 
									</t:Column>
									<t:Column width="13rem">
										<Label text="Start"/>
										<t:template>
											<DateTimePicker
												placeholder="Enter Date ..."
												value="{subprojectMaterial>start_date_time}" 
												valueFormat="yyyy-MM-dd HH:mm:ss"
												displayFormat="yyyy-MM-dd HH:mm:ss"
												/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="13rem">
										<Label text="End"/>
										<t:template>
											<DateTimePicker
												placeholder="Enter Date ..."
												value="{subprojectMaterial>end_date_time}" 
												valueFormat="yyyy-MM-dd HH:mm:ss"
												displayFormat="yyyy-MM-dd HH:mm:ss"
												/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="4rem">
										<Label text="Days"/>
										<t:template>
											<Input value="{subprojectMaterial>days}"/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="4rem">
										<Label text="Used"/>
										<t:template>
											<Input value="{subprojectMaterial>days_used}"/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="4rem">
										<Label text="factor"/>
										<t:template>
											<Input value="{subprojectMaterial>factor}"/>
											
										</t:template>
										 
									</t:Column>
									
									<t:Column width="6rem">
										<Label text="Discount"/>
										<t:template>
										
											<Input value="{subprojectMaterial>discount}" />
										
										</t:template>
									</t:Column>
									<t:Column width="12rem">
										<Label text="Tax"/>
										<t:template>
											<Select change="onChangeItemTax" width="100%" items="{path:'taxes>/', templateShareable: true}"  forceSelection="false"	selectedKey="{subprojectMaterial>tax_id}" >
												<core:Item key="{taxes>id}" text="{taxes>name}" />
											</Select>	
											
										</t:template>
										 
									</t:Column>
									<t:Column>
										<Label text="SubTotal"/>
										<t:template>
										
											<Text text="{= ${subprojectMaterial>quantity} * ${subprojectMaterial>price}}" wrapping="false"/>
										
										</t:template>
									</t:Column>
								</t:columns>
								
									<t:rowActionTemplate>
								        <t:RowAction>
								            
										<t:RowActionItem type="Delete" press="onSubprojectMaterialsDeletePress"></t:RowActionItem>
									    
									</t:RowAction>
									
								     </t:rowActionTemplate>
								
								<t:footer><Label text="Total" /></t:footer>
							</t:TreeTable>
															
							</f:content>
							</f:SimpleForm>
							</IconTabFilter>
							
							<IconTabFilter
							text="{i18n>resources}">
							<f:SimpleForm 
								editable="true"
								layout="ResponsiveGridLayout"
								 >
								<f:content>
									<t:TreeTable
										id="subprojectResourceTreeTable"
										rows="{path:'subprojectResource>/', sorter: {path : 'pos', comparator : '.alphanumericSorter'}}"
										visibleRowCountMode="Interactive"
										selectionMode="None"
										enableSelectAll="false"
										rowActionCount="1"
										ariaLabelledBy="title">
	
									<t:dragDropConfig>
										<dnd:DragDropInfo
												sourceAggregation="rows"
												targetAggregation="rows"
												dragStart="onDragStart"
												drop="onDrop"/>
									</t:dragDropConfig>
			
									<t:columns>
									<t:Column width="7rem">
										<Label text="Position"/>
										<t:template>
											<Text text="{subprojectResource>pos}" wrapping="false"/>
										</t:template>
									</t:Column>
									<t:Column width="13rem">
										<Label text="Name"/>
										<t:template>
											<Input value="{subprojectResource>name}"/>
										</t:template>
									</t:Column>
									<t:Column width="6rem">
										<Label text="Price"/>
										<t:template>
										
											<Input value="{subprojectResource>price}" visible="{= ${subprojectResource>type} === 0 ? false : true}"/>
										
										</t:template>
									</t:Column>
									<t:Column width="5rem">
										<Label text="Quantity"/>
										<t:template>
											<Input value="{subprojectResource>quantity}" visible="{= ${subprojectResource>type} === 0 ? false : true}"/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="6rem">
										<Label text="Unit"/>
										<t:template>
											<Select width="100%" items="{path:'units>/', templateShareable: true}"  forceSelection="false"	selectedKey="{subprojectResource>unit_id}" visible="{= ${projectResource>type} === 0 ? false : true}">
												<core:Item key="{units>id}" text="{units>short_name}" />
											</Select>	
											
										</t:template>
										 
									</t:Column>
									<t:Column width="13rem">
										<Label text="Start"/>
										<t:template>
											<DateTimePicker
												placeholder="Enter Date ..."
												value="{subprojectResource>start_date_time}" 
												valueFormat="yyyy-MM-dd HH:mm:ss"
												displayFormat="yyyy-MM-dd HH:mm:ss"
												/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="13rem">
										<Label text="End"/>
										<t:template>
											<DateTimePicker
												placeholder="Enter Date ..."
												value="{subprojectResource>end_date_time}"
												valueFormat="yyyy-MM-dd HH:mm:ss"
												displayFormat="yyyy-MM-dd HH:mm:ss"
												/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="4rem">
										<Label text="Days"/>
										<t:template>
											<Input value="{subprojectResource>days}"/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="4rem">
										<Label text="Day-Off"/>
										<t:template>
											<Input value="{subprojectResource>days_off}"/>
											
										</t:template>
										 
									</t:Column>
									<t:Column width="4rem">
										<Label text="factor"/>
										<t:template>
											<Input value="{subprojectResource>factor}"/>
											
										</t:template>
										 
									</t:Column>
									
									<t:Column width="6rem">
										<Label text="Discount"/>
										<t:template>
										
											<Input value="{subprojectResource>discount}" />
										
										</t:template>
									</t:Column>
									<t:Column width="12rem">
										<Label text="Tax"/>
										<t:template>
											<Select change="onChangeItemTax" width="100%" items="{path:'taxes>/', templateShareable: true}"  forceSelection="false"	selectedKey="{subprojectResource>tax_id}" >
												<core:Item key="{taxes>id}" text="{taxes>name}" />
											</Select>	
											
										</t:template>
										 
									</t:Column>
									<t:Column>
										<Label text="SubTotal"/>
										<t:template>
										
											<Text text="{= ${subprojectResource>quantity} * ${subprojectResource>price}}" wrapping="false"/>
										
										</t:template>
									</t:Column>
								</t:columns>
								
									<t:rowActionTemplate>
								        <t:RowAction>
								            
										<t:RowActionItem type="Delete" press="onSubrojectResourcesDeletePress"></t:RowActionItem>
									    
									</t:RowAction>
									
								     </t:rowActionTemplate>
								
								<t:footer><Label text="Total" /></t:footer>
							</t:TreeTable>

								
							</f:content>
							</f:SimpleForm>
							</IconTabFilter>
								
								
								
							<IconTabFilter
							text="{i18n>tasks}">
								
							<f:SimpleForm 
							editable="true"
							layout="ResponsiveGridLayout"
							 >
							<f:content>
								<Toolbar>
									<Title text="{i18n>tasks}" level="H5" titleStyle="H5"/>
									<ToolbarSpacer />
									<Button icon="sap-icon://task"/>
								</Toolbar>
								
								
		
							</f:content>
						</f:SimpleForm>
						</IconTabFilter>
						
						<IconTabFilter
							text="{i18n>appointments}">
								
							<f:SimpleForm 
							editable="true"
							layout="ResponsiveGridLayout"
							 >
							<f:content>
								<Toolbar>
									<Title text="{i18n>appointments}" level="H5" titleStyle="H5"/>
									<ToolbarSpacer />
									<Button icon="sap-icon://appointment"/>
								</Toolbar>
								
		
							</f:content>
						</f:SimpleForm>
						</IconTabFilter>
						
						<IconTabFilter
							text="{i18n>documents}">
								
							<f:SimpleForm
							editable="true"
							layout="ResponsiveGridLayout"
							 >
							<f:content>
							<OverflowToolbar>
									<Title text="{i18n>documents}" level="H5" titleStyle="H5"/>
									<Select id="subprojectSelectedDocument"  items="{documents>/}"  forceSelection="false">
										<core:Item key="{documents>model}" text="{documents>name}" />
									</Select>
									<CheckBox text="{i18n>preview}" selected="{path: 'documents>/preview', type: 'sap.ui.model.type.Boolean'}"/>	
								
									<Button icon="sap-icon://create" text="{i18n>create}" press="onCreateSubprojectDocument"/>
									<Button icon="sap-icon://refresh" text="{i18n>overwrite}" press="onOverwriteSubprojectDocument"/>
									
						
									<ToolbarSpacer />
									<Button icon="sap-icon://email" press="onSubprojectEmailDocument" tooltip="{i18n>sendByEmail}"/>
									<Button icon="sap-icon://fax-machine" press="onSubprojectFaxDocument" tooltip="{i18n>sendByFax}"/>
									<Button icon="sap-icon://letter" press="onSubprojectLetterDocument" tooltip="{i18n>sendByLetter}"/>
									
								</OverflowToolbar>

								
								<List
									id="subprojectDocumentsList"
									mode="SingleSelectLeft"
									width="auto"
									items="{path: 'subproject_documents>/',sorter: {path : 'created_at', descending:true}}"

									>
									<StandardListItem
										app:documentModel="{subproject_documents>model}"
										app:documentId="{subproject_documents>id}"
										app:documentNumber="{subproject_documents>number}"
										
										title="{subproject_documents>number} {subproject_documents>id}"
										description="{subproject_documents>created_at}" 
										
										type="Active" 
										press="onViewDocument"
										
										

										/>
										
									
								</List>
									
								
							</f:content>
							</f:SimpleForm>	
						</IconTabFilter>
						
						<IconTabFilter
							text="{i18n>history}">
								
							<f:SimpleForm 
							editable="true"
							layout="ResponsiveGridLayout"
							 >
							<f:content>
								<Toolbar>
									<Title text="{i18n>history}" level="H5" titleStyle="H5"/>
									<ToolbarSpacer />
									<Button icon="sap-icon://history"/>
								</Toolbar>
								
		
							</f:content>
						</f:SimpleForm>
						</IconTabFilter>
								
						</items>
					</IconTabBar>
								
		
			</content>
			</Page>
			</NavContainer>

						</l:SplitPane>
						<!--
						<l:SplitPane  requiredParentWidth="800">

                    		<PlanningCalendar
								id="projectPlanningCalendar"
								
								showRowHeaders="false"
								stickyHeader="true"
								viewKey="Day"
								rows="{path: '/'}"
								appointmentsVisualization="Filled"
								appointmentSelect="handleAppointmentSelect"
								intervalSelect="handleIntervalSelect"
								viewChange="handleStartDateChange"
								startDateChange="handleStartDateChange"
								showEmptyIntervalHeaders="false"
								showWeekNumbers="true">
								

					
								<rows>
									<PlanningCalendarRow
										title="{name}"
										text="{text}"
										icon="{icon}"
										
										appointments="{path : 'appointments', templateShareable: 'true'}"
										intervalHeaders="{model: 'holidays', path: '/', templateShareable: 'true'}">
										<appointments>
											<unified:CalendarAppointment
												startDate="{path:'start_date_time', formatter:'.formatter.dateFormatter'}"
												endDate="{path:'end_date_time', formatter:'.formatter.dateFormatter'}"
												key="{id}"
												title="{name}"
												tooltip="{number} {name}  {description}"
												text="{description}"
												type="{type}"
												tentative="{=${status} === 2 ? false : true}"
												app:status="{status}"
												app:location="{location}"
												app:attendees="{attendees}"
												app:google_event_id="{google_event_id}"
												app:reminder_time="{reminder_time}"
												>
												<unified:customData>
												  <core:CustomData key="appointment" value="{=${status} === 1 ? '1' : ''}{=${status} === 2 ? '2' : ''}{=${status} === 3 ? '3' : ''}" writeToDom="true" />
												 </unified:customData>
											</unified:CalendarAppointment>
										</appointments>
										<intervalHeaders>
											<unified:CalendarAppointment
												startDate="{path:'holidays>start_date_time', formatter:'.formatter.dateFormatter'}"
												endDate="{path:'holidays>end_date_time', formatter:'.formatter.dateFormatter'}"
												tentative="true"
												title="{holidays>name}"
												tooltip="{holidays>name}  {holidays>description}"
												type="{holidays>type}">
											</unified:CalendarAppointment>
										</intervalHeaders>
									</PlanningCalendarRow>
								</rows>
								</PlanningCalendar>
						
						
							

					</l:SplitPane>
					-->
			<!-- </l:PaneContainer> -->
		</l:PaneContainer>
	</l:ResponsiveSplitter>
	</content>
</Page>


</mvc:View>
